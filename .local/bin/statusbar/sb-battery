#!/bin/sh

case $BLOCK_BUTTON in
    3) "$TERMINAL" -e "$EDITOR" "$0" 2>/dev/null;;
esac

battery=/sys/class/power_supply/BAT1
case "$(cat "$battery/status" 2>&1)" in
	"Full") status="âš¡" ;;
	"Discharging") status="ğŸ”‹" ;;
	"Charging") status="ó±¥" ;;
	"Not charging") status="ï†¸" ;;
	"Unknown") status="ï†¸" ;;
	*) exit 1 ;;
esac
capacity="$(cat "$battery/capacity" 2>&1)"
if [ "$status" = "ğŸ”‹" ] && [ "$capacity" -le 10 ]; then
	status="ï‰„"
elif [ "$status" = "ğŸ”‹" ] && [ "$capacity" -le 25 ]; then
	status="ï‰ƒ"
elif [ "$status" = "ğŸ”‹" ] && [ "$capacity" -le 50 ]; then
	status="ï‰‚"
elif [ "$status" = "ğŸ”‹" ] && [ "$capacity" -le 75 ]; then
	status="ï‰"
fi

echo "$status $capacity%"
